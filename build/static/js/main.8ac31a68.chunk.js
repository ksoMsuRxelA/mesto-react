(this["webpackJsonpmesto-react"]=this["webpackJsonpmesto-react"]||[]).push([[0],{11:function(e,t,n){},13:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n.n(a),c=n(4),o=n.n(c),i=(n(11),n(2)),r=n(0),l=function(){return Object(r.jsx)("header",{className:"header page__header",children:Object(r.jsx)("a",{href:"#",className:"header__logo",target:"_self"})})},p=n(5),u=n(6),d=new(function(){function e(t){Object(p.a)(this,e),this._options=t}return Object(u.a)(e,[{key:"_checkResponse",value:function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430: ".concat(e.status))}},{key:"getUserInfo",value:function(){return fetch("".concat(this._options.baseUrl,"/users/me"),{method:"GET",headers:this._options.headers}).then(this._checkResponse)}},{key:"getInitialCards",value:function(){return fetch("".concat(this._options.baseUrl,"/cards"),{method:"GET",headers:this._options.headers}).then(this._checkResponse)}},{key:"patchUserInfo",value:function(e){return fetch("".concat(this._options.baseUrl,"/users/me"),{method:"PATCH",headers:this._options.headers,body:JSON.stringify(e)}).then(this._checkResponse)}},{key:"postNewCard",value:function(e){return fetch("".concat(this._options.baseUrl,"/cards"),{method:"POST",headers:this._options.headers,body:JSON.stringify(e)}).then(this._checkResponse)}},{key:"deleteOwnerCard",value:function(e){return fetch("".concat(this._options.baseUrl,"/cards/").concat(e),{method:"DELETE",headers:this._options.headers})}},{key:"patchAvatar",value:function(e){return fetch("".concat(this._options.baseUrl,"/users/me/avatar"),{method:"PATCH",headers:this._options.headers,body:JSON.stringify(e)}).then(this._checkResponse)}},{key:"putLike",value:function(e){return fetch("".concat(this._options.baseUrl,"/cards/likes/").concat(e),{method:"PUT",headers:this._options.headers}).then(this._checkResponse)}},{key:"deleteLike",value:function(e){return fetch("".concat(this._options.baseUrl,"/cards/likes/").concat(e),{method:"DELETE",headers:this._options.headers}).then(this._checkResponse)}}]),e}())({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-26",headers:{authorization:"c1029b6e-f14f-48d8-a0b9-3627c8971067","Content-Type":"application/json"}}),h=function(e){return Object(r.jsxs)("div",{className:"element",children:[Object(r.jsx)("img",{src:e.card.link,alt:"some",className:"element__image",onClick:function(){e.onCardClick(e.card)}}),Object(r.jsx)("h2",{className:"element__title",children:e.card.name}),Object(r.jsx)("div",{className:"element__like-counter",children:e.card.likes.length}),Object(r.jsx)("button",{type:"button","aria-label":"\u041a\u043d\u043e\u043f\u043a\u0430 \u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f",className:"element__like-button"}),Object(r.jsx)("button",{type:"button","aria-label":"\u041a\u043d\u043e\u043f\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438",className:"element__delete-button"})]})},_=function(e){var t=Object(a.useState)(""),n=Object(i.a)(t,2),s=n[0],c=n[1],o=Object(a.useState)(""),l=Object(i.a)(o,2),p=l[0],u=l[1],_=Object(a.useState)(""),b=Object(i.a)(_,2),j=b[0],m=b[1],O=Object(a.useState)([]),f=Object(i.a)(O,2),x=f[0],N=f[1];return Object(a.useEffect)((function(){d.getUserInfo().then((function(e){c(e.name),u(e.about),m(e.avatar)})).catch((function(e){console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u0435\u0440\u0432\u0438\u0447\u043d\u043e\u043c \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u0434\u0430\u043d\u043d\u044b\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f: ".concat(e))})),d.getInitialCards().then((function(e){N(e)})).catch((function(e){console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u0435\u0440\u0432\u0438\u0447\u043d\u043e\u043c \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u043a\u0430\u0440\u0442\u043e\u0447\u0435\u043a: ".concat(e))}))}),[]),Object(r.jsxs)("main",{className:"content page__content",children:[Object(r.jsxs)("section",{className:"profile content__profile",children:[Object(r.jsx)("div",{className:"profile__avatar",onClick:e.onEditAvatar,style:{backgroundImage:"url(".concat(j,")")}}),Object(r.jsxs)("div",{className:"profile__layout",children:[Object(r.jsxs)("div",{className:"profile__info",children:[Object(r.jsx)("h1",{className:"profile__full-name",children:s}),Object(r.jsx)("p",{className:"profile__role",children:p})]}),Object(r.jsx)("button",{type:"button","aria-label":"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c",className:"profile__edit-button",onClick:e.onEditProfile})]}),Object(r.jsx)("button",{type:"button","aria-label":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443",className:"profile__add-button",onClick:e.onAddPlace})]}),Object(r.jsx)("section",{className:"elements content__elements",children:x.map((function(t){return Object(r.jsx)(h,{card:t,onCardClick:e.handleCardClick},t._id)}))})]})},b=function(e){return Object(r.jsx)("footer",{className:"footer page__footer",children:Object(r.jsx)("p",{className:"footer__copyright",children:e.filler})})},j=function(e){var t="popup popup_type_".concat(e.name," ").concat(e.isOpen?"popup_opened":"");return Object(r.jsx)("section",{className:t,children:Object(r.jsxs)("div",{className:"popup__container popup__container_type_".concat(e.name),children:[Object(r.jsxs)("form",{className:"popup__edit-form popup__edit-form_type_".concat(e.name),name:e.name,noValidate:!0,children:[Object(r.jsx)("h2",{className:"popup__title",children:e.title}),Object(r.jsxs)("fieldset",{className:"popup__info",children:[e.children,Object(r.jsx)("button",{type:"sumbit","aria-label":e.ariaLabel,className:"popup__save-button ".concat("delete"===e.name?"popup__save-button_type_delete":""),children:e.buttonTitle})]})]}),Object(r.jsx)("button",{type:"button","aria-label":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u0432\u0441\u043f\u043b\u044b\u0432\u0430\u044e\u0449\u0435\u0435 \u043e\u043a\u043d\u043e",className:"popup__close-button",onClick:function(){e.onClose(e)}})]})})},m=function(e){var t="popup popup_type_image ".concat(0!==Object.keys(e.card).length?"popup_opened":"");return Object(r.jsx)("section",{className:t,children:Object(r.jsxs)("figure",{className:"popup__image-container",children:[Object(r.jsx)("img",{src:e.card.link,alt:"some",className:"popup__image"}),Object(r.jsx)("figcaption",{className:"popup__image-caption",children:e.card.name}),Object(r.jsx)("button",{type:"button","aria-label":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u0432\u0441\u043f\u043b\u044b\u0432\u0430\u044e\u0449\u0435\u0435 \u043e\u043a\u043d\u043e",className:"popup__close-button",onClick:e.onClose})]})})};var O=function(){var e=Object(a.useState)(!1),t=Object(i.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)(!1),o=Object(i.a)(c,2),p=o[0],u=o[1],d=Object(a.useState)(!1),h=Object(i.a)(d,2),O=h[0],f=h[1],x=Object(a.useState)({}),N=Object(i.a)(x,2),k=N[0],g=N[1],v=function(e){"edit"===e.name?s(!e.isOpen):"new-card"===e.name?u(!e.isOpen):"avatar"===e.name?f(!e.isOpen):g({})};return Object(r.jsx)("div",{className:"wrapper",children:Object(r.jsxs)("div",{className:"page",children:[Object(r.jsx)(l,{}),Object(r.jsx)(_,{onEditAvatar:function(){f(!O)},onEditProfile:function(){s(!n)},onAddPlace:function(){u(!p)},handleCardClick:function(e){g(e)}}),Object(r.jsx)(b,{filler:"\xa9 2021 Mesto Russia"}),Object(r.jsxs)(j,{onClose:v,isOpen:n,name:"edit",title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c",ariaLabel:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c",buttonTitle:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",children:[Object(r.jsx)("input",{id:"name-input",type:"text",placeholder:"\u0412\u0430\u0448\u0435 \u0438\u043c\u044f",className:"popup__input popup__input-name",name:"name",required:!0,minLength:"2",maxLength:"40"}),Object(r.jsx)("span",{className:"popup__error-element name-input-error"}),Object(r.jsx)("input",{id:"role-input",type:"text",placeholder:"\u0420\u043e\u0434 \u0432\u0430\u0448\u0435\u0439 \u0434\u0435\u044f\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438",className:"popup__input popup__input-role",name:"about",required:!0,minLength:"2",maxLength:"200"}),Object(r.jsx)("span",{className:"popup__error-element role-input-error"})]}),Object(r.jsxs)(j,{onClose:v,isOpen:p,name:"new-card",title:"\u041d\u043e\u0432\u043e\u0435 \u043c\u0435\u0441\u0442\u043e",ariaLabel:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u0443\u044e \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443",buttonTitle:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",children:[Object(r.jsx)("input",{id:"place-input",type:"text",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",className:"popup__input  popup__input-name",name:"name",required:!0,minLength:"2",maxLength:"30"}),Object(r.jsx)("span",{className:"popup__error-element place-input-error"}),Object(r.jsx)("input",{id:"url-input",type:"url",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",className:"popup__input popup__input-link",name:"link",required:!0}),Object(r.jsx)("span",{className:"popup__error-element url-input-error"})]}),Object(r.jsx)(j,{onClose:!0,isOpen:!1,name:"delete",title:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b?",ariaLabel:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443 \u0441 \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0435\u0439",buttonTitle:"\u0414\u0430"}),Object(r.jsxs)(j,{onClose:v,isOpen:O,name:"avatar",title:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440",ariaLabel:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440",buttonTitle:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",children:[Object(r.jsx)("input",{id:"url-input-avatar",type:"url",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",className:"popup__input popup__input_type_avatar popup__input-link",name:"avatar",required:!0}),Object(r.jsx)("span",{className:"popup__error-element url-input-avatar-error"})]}),Object(r.jsx)(m,{onClose:v,card:k})]})})},f=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,14)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),s(e),c(e),o(e)}))};o.a.render(Object(r.jsx)(s.a.StrictMode,{children:Object(r.jsx)(O,{})}),document.getElementById("root")),f()}},[[13,1,2]]]);
//# sourceMappingURL=main.8ac31a68.chunk.js.map